#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass article
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing onehalf
\use_hyperref false
\papersize a4paper
\use_geometry true
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.5cm
\topmargin 2.5cm
\rightmargin 2.5cm
\bottommargin 2.5cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation 2cm
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
Instituto Nacional de Matemática Pura e Aplicada
\end_layout

\begin_layout Standard
Hallison Oliveira da Paz
\end_layout

\begin_layout Standard
Processamento de Imagens
\end_layout

\begin_layout Standard
Assignment 3 - Features 
\end_layout

\begin_layout Section
Resolução do problema
\end_layout

\begin_layout Standard
I
\emph on
n this assignment you need to implement one of several feature detection
 algorithms: corner detection, SIFT, and active contours.
\end_layout

\begin_layout Standard

\emph on
The input image should always be converted to grayscale before processing
 it.
 When capturing images from a camera allow the program to capture and process
 the images continuously.
 The main parameters of each algorithm should be made available for interactive
 manipulation through keyboard/mouse interaction.
 Your report must include a description of the algorithm you implemented.
 
\end_layout

\begin_layout Standard
Com o auxílio da biblioteca OpenCV (3.0), implementou-se um programa para
 realizar a detecção de features utilizando o algoritmo Harris Corner Detector.
\end_layout

\begin_layout Standard
Este é um dos algoritmos mais antigos na área de detecção de features e
 baseia-se em uma ideia bastante simples e intuitiva.
 A ideia é perceber que em uma imagem, as regiões que representam cantos
 são regiões onde o gradiente apresenta uma alta variação em qualquer direção.
 Isto porque, em regiões de transição (variações bruscas) no domínio da
 imagem observamos altas frequências.
 Como um canto tipicamente está na interseção de arestas (delimitadores
 de transição) com direções diferentes, pensar nos cantos como zonas onde
 o gradiente tem alta variação é bastante natural.
\end_layout

\begin_layout Standard
Assim, para cada pixel da imagem, podemos definir uma janela que represente
 uma certa vizinhança de pixels e, então, podemos calcular uma medida de
 energia para esta janela, atribuindo um determinado peso a cada pixel.
 A equação XXX traduz esta ideia.
\end_layout

\begin_layout Standard
\begin_inset Formula $E(u,v)=∑w(x,y)[I(x+u,y+v)−I(x,y)]^{2}$
\end_inset


\end_layout

\begin_layout Standard
where:
\end_layout

\begin_layout Standard
\begin_inset Formula $w(x,y)$
\end_inset

is the window at position 
\begin_inset Formula $(x,y)$
\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset Formula $I(x,y)$
\end_inset

is the intensity at (x,y) 
\end_layout

\begin_layout Standard
\begin_inset Formula $I(x+u,y+v)$
\end_inset

is the intensity at the moved window 
\begin_inset Formula $(x+u,y+v)$
\end_inset


\end_layout

\begin_layout Standard
Se transladarmos esta janela em várias direções, podemos medir o quanto
 que esta energia varia e, assim, caracterizar a região em análise.
 Dividindo em 3 casos, temos:
\end_layout

\begin_layout Enumerate
Se a variação for pequena em toda as direções, estamos em uma região lisa,
 de poucos detalhes na imagem.
\end_layout

\begin_layout Enumerate
Se a variação for grande em apenas uma direção e pequena na direção ortogonal,
 estamos sobre uma aresta.
 A direção de maior variação é a direção normal à aresta (direção do gradiente).
\end_layout

\begin_layout Enumerate
Se a variação for grande em 
\series bold
ambas
\series default
 as direções, então temos um bom candidato a canto.
\end_layout

\begin_layout Standard
Portanto, a ideia do algoritmo de Harris é procurar por janelas onde há
 alta variação.
 Queremos, então, maximizar a função de energia XXX.
 
\end_layout

\begin_layout Standard
\begin_inset Formula $∑x,y[I(x+u,y+v)−I(x,y)]2$
\end_inset


\end_layout

\begin_layout Standard
Using Taylor expansion:
\end_layout

\begin_layout Standard
\begin_inset Formula $E(u,v)≈∑x,y[I(x,y)+uIx+vIy−I(x,y)]2$
\end_inset


\end_layout

\begin_layout Standard
Expanding the equation and cancelling properly:
\end_layout

\begin_layout Standard
\begin_inset Formula $E(u,v)≈∑x,yu2I2x+2uvIxIy+v2I2y$
\end_inset


\end_layout

\begin_layout Standard
Which can be expressed in a matrix form as:
\end_layout

\begin_layout Standard
\begin_inset Formula $E(u,v)≈[uv](∑x,yw(x,y)[I2xIxIyIxIyI2y])[uv]$
\end_inset


\end_layout

\begin_layout Standard
Let's denote:
\end_layout

\begin_layout Standard
\begin_inset Formula $M=∑x,yw(x,y)[I2xIxIyIxIyI2y]$
\end_inset


\end_layout

\begin_layout Standard
So, our equation now is:
\end_layout

\begin_layout Standard
\begin_inset Formula $E(u,v)≈[uv]M[uv]$
\end_inset


\end_layout

\begin_layout Standard
Com esta formulação, podemos analisar em que caso um determinado pixel se
 encontra a partir de uma análise dos autovalores da matriz M.
 Se ambos os autovalores têm uma magnitude pequena, trata-se do caso 1 (região
 lisa).
 Caso um dos autovalores tenha uma magnitude significativamente superior
 à do outro, temos o 2º caso (aresta).
 Finalmente, se ambos os autovalores têm alta magnitude, temos um possível
 canto.
\end_layout

\begin_layout Standard
Uma grande contribuição do trabalho de Harris está na definição de uma 
\begin_inset Quotes eld
\end_inset

função de resposta do canto
\begin_inset Quotes erd
\end_inset

, que permite uma análise direta destes casos a partir de funções simples
 sobre a matriz M.
 Sejam λ1 e λ2 os autovalores de M e considerando que det(M) = λ1λ2 e trace(M)
 = λ1+λ2.
 A função de resposta do canto foi definida como:
\end_layout

\begin_layout Standard
\begin_inset Formula $R=det(M)−k(trace(M))^{2}$
\end_inset


\end_layout

\begin_layout Standard
Em que k é uma constante determinada empiricamente como um valor entre 0.04
 e 0.06 para bons resultados.
\end_layout

\begin_layout Standard
Por conta de sua simplicidade, algumas propriedades importantes não podem
 ser captadas pelos algoritmo de Harris, imprimindo-lhe algumas deficiências
 como sensibilidade à variação de escala e de perspectiva.
\end_layout

\end_body
\end_document
